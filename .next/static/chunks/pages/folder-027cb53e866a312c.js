(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{3918:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/folder",function(){return r(9537)}])},9537:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eo}});var n,i,o=r(5893),a=r(7294),d=r(9008),c=r.n(d),l=r(9450),s=r(4196),m=r(828),h=r(2018),f=r(964);let p=f.ZP.main.withConfig({componentId:"sc-44e2c537-0"})(["width:100%;max-width:1920px;min-width:375px;background-color:white;"]),u=f.ZP.section.withConfig({componentId:"sc-44e2c537-1"})(["width:100%;z-index:999;padding:3rem 0;height:70px;background:var(--Linkbrary-bg);text-align:center;"]),g=f.ZP.div.withConfig({componentId:"sc-44e2c537-2"})(["width:50rem;position:relative;margin:0 auto;@media screen and (max-width:1124px){width:41.5rem;}@media screen and (max-width:767px){width:20.3125rem;}"]),w=f.ZP.label.withConfig({componentId:"sc-44e2c537-3"})(["position:absolute;width:1px;height:1px;margin:-1px;overflow:hidden;clip-path:polygon(0 0,0 0,0 0);"]),x=f.ZP.input.withConfig({componentId:"sc-44e2c537-4"})(["width:50rem;padding:1rem 1.25rem;height:2.2rem;border-radius:0.9375rem;border:1px solid var(--Linkbrary-primary-color);outline:none;@media screen and (max-width:1124px){width:41.5rem;}@media screen and (max-width:767px){padding:0.5rem 0.62rem;width:20.3125rem;}&::placeholder{font-size:1rem;background:url(",") no-repeat;background-size:contain;}"],e=>{let{$icon:t}=e;return t}),b=f.ZP.button.withConfig({componentId:"sc-44e2c537-5"})(["padding:0.625rem 1rem;width:5rem;height:2.3125rem;font-size:0.85rem;font-weight:600;border-radius:0.5rem;background:var(--gra-purpleblue-to-skyblue);border:none;outline:none;color:var(--Grey-Light,#f5f5f5);position:absolute;right:-1rem;top:1rem;@media screen and (max-width:767px){top:0.5rem;}"]);var k=function(e){let{handleKebabClick:t,selectCardId:r,categoryList:n,setCategoryList:i,handleModalAction:d}=e,[c,l]=(0,a.useState)({id:0,name:"전체"}),[f,k]=(0,a.useState)([]),[v,y]=(0,a.useState)(""),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=await h.Z.get(m.v.USER_FOLDER);if(!e.ok)throw Error("카테고리 로드 에러 발생");let t=await e.json();i([...n,...t.data])}catch(e){console.error(e)}})()},[]);let E=async()=>{try{let e=await fetch(m.v.ALL_LINK);if(!e.ok)throw Error("전체 링크 로드 에러 발생");let t=await e.json();k(t.data),l({id:0,name:"전체"})}catch(e){console.error(e)}};(0,a.useEffect)(()=>{E()},[]);let L=async(e,t)=>{try{let r=await fetch(m.v.CATEGORY_LINK+e);if(!r.ok)throw Error("카테고리 링크 로드 에러 발생");let n=await r.json();k(n.data),l({id:e,name:t})}catch(e){console.error(e)}},C=e=>{"content__kebab"!==e.target.className&&t(0)},_=e=>{y(e.target.value)},I=()=>{if(j.current){if(window.scrollY>144){j.current.style.position="fixed",j.current.style.bottom="0px",j.current.style.padding="1rem 0";return}j.current.style.position="static",j.current.style.padding="3rem 0"}};return(0,a.useEffect)(()=>(window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)),[]),(0,o.jsxs)(p,{onClick:e=>C(e),children:[(0,o.jsx)(u,{ref:j,children:(0,o.jsx)(g,{children:(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!v){alert("링크를 입력해 주세요!");return}d("폴더에 추가",v)},children:[(0,o.jsx)(w,{htmlFor:"link--add",children:"링크 추가"}),(0,o.jsx)(x,{id:"link--add",onChange:e=>_(e),value:v,type:"text",placeholder:"      링크를 추가해 보세요",$icon:"/icon/link.svg"}),(0,o.jsx)(b,{children:"추가하기"})]})})}),(0,o.jsx)(s.Z,{categoryList:n,selectCategory:c,allLinkLoad:E,handleSelectCategory:L,handleKebabClick:t,selectCardId:r,linkList:f,option:!0,handleModalAction:d,setLinkList:k})]})},v=r(839),y=r(5675),j=r.n(y);let E=f.ZP.div.withConfig({componentId:"sc-4adef42a-0"})(["border-radius:1.25rem;background:var(--Linkbrary-primary-color);padding:0.7rem 1.5rem 0.5rem;display:none;position:fixed;left:50%;bottom:120px;transform:translateX(-50%);border:none;outline:none;@media screen and (max-width:767px){display:flex;align-items:center;gap:0.25rem;}"]),L=f.ZP.p.withConfig({componentId:"sc-4adef42a-1"})(["color:var(--Linkbrary-gray10);font-weight:500;letter-spacing:-0.01875rem;"]),C=(0,f.ZP)(j()).withConfig({componentId:"sc-4adef42a-2"})(["padding-bottom:0.2rem;"]);var _=function(){return(0,o.jsxs)(E,{children:[(0,o.jsx)(L,{children:"폴더 추가"}),(0,o.jsx)(C,{width:16,height:17,src:"/icon/floating-add.svg",alt:"플로팅 버튼 아이콘"})]})};let I=f.ZP.div.withConfig({componentId:"sc-860ff86a-0"})(["position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100vw;height:100vh;background-color:rgba(0,0,0,0.4);box-shadow:0px 4px 25px 0px rgba(0,0,0,0.08);z-index:999;"]),P=f.ZP.div.withConfig({componentId:"sc-860ff86a-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:18.5rem;border:1px solid var(--Stroke-light);background-color:#ffffff;border-radius:0.9375rem;padding:2rem 2.5rem;text-align:center;"]),Z=(0,f.ZP)(j()).withConfig({componentId:"sc-860ff86a-2"})(["position:absolute;right:1rem;top:1rem;"]),D=f.ZP.p.withConfig({componentId:"sc-860ff86a-3"})(["font-size:1.25rem;font-weight:700;color:var(--Linkbrary-gray100);"]),F=f.ZP.p.withConfig({componentId:"sc-860ff86a-4"})(["margin-top:0.5rem;font-size:0.875rem;line-height:1.375rem;color:var(--Linkbrary-gray60);display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical;"]),T=f.ZP.button.withConfig({componentId:"sc-860ff86a-5"})(["width:17.5rem;height:3.1875rem;padding:1rem 1.25rem;border-radius:0.5rem;outline:none;border:none;color:var(--Grey-Light);font-weight:600;"]),K=(0,f.ZP)(T).withConfig({componentId:"sc-860ff86a-6"})(["background:var(--gra-purpleblue-to-skyblue);"]),S=(0,f.ZP)(T).withConfig({componentId:"sc-860ff86a-7"})(["background:var(--Linkbrary-red);margin-top:1.5rem;"]),A=f.ZP.input.withConfig({componentId:"sc-860ff86a-8"})(["width:15.5rem;height:1rem;padding:1.125rem 0.9375rem;border-radius:0.5rem;background:var(--Linkbrary-white,#fff);border:1px solid var(--gray20);margin:1.5rem 0 0.94rem;outline:none;&:focus{border:1px solid var(--Linkbrary-primary-color);}"]),O=f.ZP.label.withConfig({componentId:"sc-860ff86a-9"})(["position:absolute;width:1px;height:1px;margin:-1px;overflow:hidden;clip-path:polygon(0 0,0 0,0 0);"]),R=f.ZP.ul.withConfig({componentId:"sc-860ff86a-10"})(["display:flex;gap:2rem;justify-content:center;margin-top:1.5rem;"]),N=f.ZP.div.withConfig({componentId:"sc-860ff86a-11"})(["border-radius:2.33331rem;padding:0.75rem;"]),z=f.ZP.p.withConfig({componentId:"sc-860ff86a-12"})(["font-size:0.8125rem;line-height:0.9375rem;margin-top:0.62rem;"]),U=f.ZP.ul.withConfig({componentId:"sc-860ff86a-13"})(["width:17.5rem;margin:1.5rem auto;"]),X=f.ZP.li.withConfig({componentId:"sc-860ff86a-14"})(["text-align:left;align-items:center;line-height:2rem;height:2rem;color:",";padding:0.5rem;border-radius:0.5rem;background-color:",";"],e=>{let{$isSelect:t}=e;return t?"#6d6afe":"#373740"},e=>{let{$isSelect:t}=e;return t?"#F0F6FF":"#FFFFFF"}),V=f.ZP.span.withConfig({componentId:"sc-860ff86a-15"})(["font-size:0.875rem;color:var(--Linkbrary-gray60);margin-left:0.5rem;"]),Y=(0,f.ZP)(j()).withConfig({componentId:"sc-860ff86a-16"})(["float:right;padding-top:0.35rem;"]);var G=function(e){let{onClick:t}=e;return(0,o.jsx)(Z,{width:24,height:24,onClick:t,src:"/icon/modal-close.svg",alt:"모달 닫기 아이콘"})},B=r(3454),H=e=>{try{window.Kakao&&(window.Kakao.init(B.env.NEXT_PUBLIC_KAKAO_JS_KEY),window.Kakao.isInitialized()||window.Kakao.init(B.env.NEXT_PUBLIC_KAKAO_JS_KEY),window.Kakao.Share.sendDefault({objectType:"feed",content:{title:"Linkbrary 폴더 공유하기",description:e.subTitle,imageUrl:"https://ifh.cc/g/SlFQA2.png",link:{mobileWebUrl:e.url,webUrl:e.url}}}))}catch(e){console.error("카카오톡 링크 공유 에러 발생!")}},J=e=>{window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(e),"_blank")};let M=[{id:1,backgroundColor:"#FEE500",icon:"/icon/modal-kakao.svg",text:"카카오톡"},{id:2,backgroundColor:"#1877F2",icon:"/icon/modal-facebook.svg",text:"페이스북"},{id:3,backgroundColor:"rgba(157, 157, 157, 0.04)",icon:"/icon/modal-link.svg",text:"링크 복사"}];var $=function(e){let{modalAction:t}=e,r=async e=>{try{await navigator.clipboard.writeText(e),alert("링크가 클립보드에 복사되었습니다!")}catch(e){alert("복사 실패!")}},n=e=>{switch(e){case"링크 복사":t.url&&r(t.url);break;case"카카오톡":H(t);break;default:t.url&&J(t.url)}};return(0,o.jsx)(R,{children:M.map(e=>{let{id:t,backgroundColor:r,icon:i,text:a}=e;return(0,o.jsxs)("li",{onClick:()=>n(a),children:[(0,o.jsx)(N,{style:{backgroundColor:r},children:(0,o.jsx)("img",{src:i,alt:"폴더 공유 ".concat(a," 아이콘")})}),(0,o.jsx)(z,{children:a})]},t)})})},Q=function(e){let{categoryListLoop:t}=e,[r,n]=(0,a.useState)(0),i=e=>{let t=e.target;t.dataset.id&&n(+t.dataset.id)};return(0,o.jsx)(U,{children:t.map(e=>{let{id:t,name:n,link:a}=e,d=+r===t;return(0,o.jsxs)(X,{onClick:i,"data-id":t,$isSelect:d,children:[n,(0,o.jsx)(V,{"data-id":t,children:"".concat(a.count,"개 링크")}),d&&(0,o.jsx)(Y,{width:14,height:14,src:"/icon/modal-check.svg",alt:"체크 아이콘"})]},t)})})},W=function(e){let{categoryListLoop:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Q,{categoryListLoop:t}),(0,o.jsx)(K,{children:"추가하기"})]})},q=function(e){let{title:t}=e;return(0,o.jsx)(D,{children:t})},ee=function(e){let{buttonText:t}=e;return(0,o.jsxs)("form",{className:"modal__form",children:[(0,o.jsx)(O,{htmlFor:"modal--input",children:"폴더 ".concat(t," 입력창")}),(0,o.jsx)(A,{id:"modal--input",type:"text",placeholder:"내용 입력"}),(0,o.jsx)(K,{children:t})]})};(n=i||(i={})).FOLDER_EDIT="폴더 이름 변경",n.FOLDER_ADD="폴더 추가",n.FOLDER_SHARE="폴더 공유",n.FOLDER_ADD_LINK="폴더에 추가",n.LINK_DELETE="링크 삭제",n.FOLDER_DELETE="폴더 삭제";var et=i,er=function(e){let{modalAction:t,setModalAction:r,categoryList:n}=e,i=n.slice(1),d=""!==t.subTitle&&t.action!==et.FOLDER_EDIT,c={[et.FOLDER_EDIT]:(0,o.jsx)(ee,{buttonText:"변경하기"}),[et.FOLDER_ADD]:(0,o.jsx)(ee,{buttonText:"추가하기"}),[et.FOLDER_SHARE]:(0,o.jsx)($,{modalAction:t}),[et.FOLDER_ADD_LINK]:(0,o.jsx)(W,{categoryListLoop:i}),[et.LINK_DELETE]:(0,o.jsx)(S,{children:"삭제하기"}),[et.FOLDER_DELETE]:(0,o.jsx)(S,{children:"삭제하기"})};return(0,a.useEffect)(()=>{let e=document.createElement("script");return e.src="https://developers.kakao.com/sdk/js/kakao.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}}),(0,o.jsx)(I,{children:(0,o.jsxs)(P,{children:[(0,o.jsx)(G,{onClick:()=>{r({isView:!1,action:"",subTitle:"",url:""})}}),(0,o.jsx)(q,{title:t.action}),d&&(0,o.jsx)(F,{children:t.subTitle}),c[t.action]]})})};let en=999,ei=[{id:0,name:"전체",link:{count:0}}];var eo=function(){let[e,t]=(0,a.useState)(0),[r,n]=(0,a.useState)(ei),[i,d]=(0,a.useState)({isView:!1,action:"",subTitle:"",url:""});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c(),{children:(0,o.jsx)("title",{children:"folder | Linkbrary"})}),(0,o.jsx)(l.Z,{isSticky:!1}),(0,o.jsx)(k,{handleKebabClick:e=>{if(en!==e){t(e),en=e;return}t(0),en=999},selectCardId:e,categoryList:r,setCategoryList:n,handleModalAction:(e,t,r)=>{d({isView:!0,action:e,subTitle:t,url:r})}}),(0,o.jsx)(v.Z,{}),(0,o.jsx)(_,{}),i.isView&&(0,o.jsx)(er,{modalAction:i,setModalAction:d,categoryList:r})]})}}},function(e){e.O(0,[247,122,888,774,179],function(){return e(e.s=3918)}),_N_E=e.O()}]);